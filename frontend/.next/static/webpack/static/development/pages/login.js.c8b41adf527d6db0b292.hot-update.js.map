{"version":3,"file":"static/webpack/static/development/pages/login.js.c8b41adf527d6db0b292.hot-update.js","sources":["webpack:///./components/Login/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport Router from 'next/router';\nimport Link from 'next/link';\n\nimport { LOGIN_MUTATION } from '../../graphql/mutations';\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n  };\n\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\n\n  onSubmit = async (e, login) => {\n    e.preventDefault();\n\n    try {\n      const response = await login({\n        variables: {\n          email: this.state.email,\n          password: this.state.password,\n        },\n      });\n\n      localStorage.setItem('USER_TOKEN', response.data.login.token);\n      Router.push('/');\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n  render() {\n    return (\n      <Mutation mutation={LOGIN_MUTATION}>\n        {login => (\n          <div className=\"ui stackable three column centered grid container\">\n            <div className=\"column\">\n              <h3 className=\"ui horizontal divider header\">Log In</h3>\n              <form\n                className=\"ui form\"\n                method=\"POST\"\n                onSubmit={() => this.onLogin(e, login)}\n              >\n                <div className=\"field\">\n                  <label>Email address</label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    onChange={this.onChange}\n                    required\n                  />\n                </div>\n                <div className=\"field\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={this.onChange}\n                    required\n                  />\n                </div>\n                <button className=\"fluid ui primary button\">Log In</button>\n              </form>\n              <div className=\"ui divider\" />\n              <div className=\"ui column grid\">\n                <div className=\"center aligned column\">\n                  Don't have an account?{' '}\n                  <Link href=\"/signup\">\n                    <a>Sign Up</a>\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default Login;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AAAA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAKA;AACA;AACA;AAFA;AADA;AACA;AALA;AAIA;AAOA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAiBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlCA;AA2CA;;;;AAxEA;AACA;AA0EA;;;;A","sourceRoot":""}