{"version":3,"file":"static/webpack/static/development/pages/create.js.d115a384323de8815a52.hot-update.js","sources":["webpack:///./components/NewMeetup/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport Router from 'next/router';\n\nimport { CREATE_MEETUP_MUTATION } from '../../graphql/mutations';\nimport { MEETUPS_QUERY } from '../../graphql/queries';\n\nclass NewMeetup extends Component {\n  state = {\n    title: '',\n    description: '',\n    location: '',\n    date: '',\n  };\n\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\n\n  onSubmit = async (e, createMeetup) => {\n    e.preventDefault();\n\n    try {\n      await createMeetup({\n        variables: {\n          ...this.state,\n        },\n        update: (store, { data: { createMeetup } }) => {\n          const data = store.readQuery({ query: MEETUPS_QUERY });\n          data.meetups.push(createMeetup);\n          store.writeQuery({ query: MEETUPS_QUERY, data });\n        },\n      });\n\n      Router.push('/');\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  render() {\n    return (\n      <Mutation mutation={CREATE_MEETUP_MUTATION}>\n        {createMeetup => (\n          <div className=\"ui stackable two column centered grid container\">\n            <div className=\"column\">\n              <h3 className=\"ui horizontal divider header\">Create Meetup</h3>\n              <form\n                className=\"ui form\"\n                method=\"POST\"\n                onSubmit={e => this.onSubmit(e, createMeetup)}\n              >\n                <div className=\"field\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    name=\"title\"\n                    onChange={this.onChange}\n                    required\n                  />\n                </div>\n                <div className=\"field\">\n                  <label>Location</label>\n                  <input\n                    type=\"text\"\n                    name=\"location\"\n                    onChange={this.onChange}\n                    required\n                  />\n                </div>\n                <div className=\"field\">\n                  <label>Date</label>\n                  <input\n                    type=\"datetime-local\"\n                    name=\"date\"\n                    onChange={this.onChange}\n                    required\n                  />\n                </div>\n                <div className=\"field\">\n                  <label>Description</label>\n                  <textarea\n                    name=\"description\"\n                    rows=\"10\"\n                    onChange={this.onChange}\n                  />\n                </div>\n                <button className=\"ui primary button\">Create Meetup</button>\n              </form>\n            </div>\n          </div>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default NewMeetup;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AAAA;AAAA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAKA;AAGA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AARA;AACA;AALA;AAeA;AAfA;AAAA;AACA;AADA;AAAA;AAAA;AAiBA;AACA;AAlBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAoBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA5CA;AAmDA;;;;AArFA;AACA;AAuFA;;;;A","sourceRoot":""}