{"version":3,"file":"static/webpack/static/development/pages/login.js.c0e522cd9ff7ec6303a4.hot-update.js","sources":["webpack:///./components/Login/index.js","webpack:///./pages/login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Mutation } from 'react-apollo';\nimport Router from 'next/router';\n\nimport { LOGIN_MUTATION } from '../../graphql/mutations';\n\nclass Login extends Component {\n  state = {\n    email: '',\n    password: '',\n  };\n\n  onChange = e => this.setState({ [e.target.name]: e.target.value });\n\n  onSubmit = async (e, login) => {\n    e.preventDefault();\n\n    try {\n      const response = await login({\n        variables: {\n          email: this.state.email,\n          password: this.state.password,\n        },\n      });\n\n      localStorage.setItem('USER_TOKEN', response.data.login.token);\n      Router.replace('/');\n    } catch (error) {\n      throw new Error(error);\n    }\n  };\n\n  render() {\n    return (\n      <Mutation mutation={LOGIN_MUTATION}>\n        {login => (\n          <div class=\"ui stackable three column centered grid container\">\n            <div class=\"column\">\n              <h3 class=\"ui horizontal divider header\">Log In</h3>\n              <form\n                class=\"ui form\"\n                method=\"POST\"\n                onSubmit={() => this.onLogin(e, login)}\n              >\n                <div class=\"field\">\n                  <label>Email address</label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    onChange={this.onChange}\n                    required\n                  />\n                  >\n                </div>\n                <div class=\"field\">\n                  <label>Password</label>\n                  <input\n                    type=\"password\"\n                    name=\"password\"\n                    onChange={this.onChange}\n                    required\n                  />\n                  >\n                </div>\n                <button class=\"fluid ui primary button\">Log In</button>\n              </form>\n              <div class=\"ui divider\" />\n              <div class=\"ui column grid\">\n                <div class=\"center aligned column\">\n                  Don't have an account?{' '}\n                  <router-link to=\"/signup\">Sign Up</router-link>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport Layout from '../components/Layout';\nimport Login from '../components/Login';\n\nexport default class Index extends React.Component {\n  render() {\n    return (\n      <Layout>\n        <Login />\n      </Layout>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AAFA;AACA;AAIA;AAAA;AAAA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAKA;AACA;AACA;AAFA;AADA;AACA;AALA;AAIA;AAOA;AACA;AAZA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAiBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAnCA;AA2CA;;;;AAxEA;AACA;AA0EA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AAPA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}